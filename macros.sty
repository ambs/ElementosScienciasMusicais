\newcommand{\vibracao}[2]{
  \tikzmath{\len = #1; \vib = #2; \eachLen = \len / \vib; \m = \vib - 1;}
\foreach \x in {0,...,\m}{
   \tikzmath{\xx = \x * \eachLen;}
   \draw (\xx,0) -- (\xx+\eachLen, 0)
     node [draw,circle,fill, inner sep=1pt, pos=0]  {}
     node [draw,circle,fill, inner sep=1pt, pos=1]  {};
   \tikzmath{\pt1 = \xx + 0.1 * \eachLen; \pt2 = \xx + 0.9 * \eachLen; }
  \draw[dashed] (\xx,0) .. controls (\pt1,0.3) and (\pt2,0.3) .. (\xx+\eachLen,0);
  \draw[dashed] (\xx,0) .. controls (\pt1,-0.3) and (\pt2,-0.3) .. (\xx+\eachLen,0);
}
}